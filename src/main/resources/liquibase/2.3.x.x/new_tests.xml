<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">


    <!-- create extension if not exists "uuid-ossp"; !must be superuser -->

        <changeSet author="rossumg" id="5">
                <sql>
                        update clinlims.localization set english = 'COVID-19 PCR', french = 'COVID-19 PCR' where description = 'test name' and english in ('Covid PCR', 'Covid(PCR)');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="10">
                <sql>
                        update localization set english = 'SARS-CoV-2 RNA by qRT-PCR', french = 'SARS-CoV-2 RNA by qRT-PCR' where description = 'test report name' and english in ( 'Covid PCR', 'Covid(PCR)');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="15">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'Respiratory Swab'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'type of sample name','Respiratory Swab','Respiratory Swab', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="16">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'Fluid'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'type of sample name','Fluid','Fluid', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="17">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'Sputum'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'type of sample name','Sputum','Sputum', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="20">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'COVID-19 PCR'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','COVID-19 PCR','COVID-19 PCR', now()),
                 (nextval('localization_seq'),'test report name','SARS-CoV-2 RNA by qRT-PCR','SARS-CoV-2 RNA by qRT-PCR', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="25">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVIDPCR(Respiratory Swab)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable,
                guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVIDPCR(Respiratory Swab)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            'e73d8c27-a69d-4c8b-95ea-86c0e0b351bd',
            (select id from localization where description = 'test name' and english = 'COVID-19 PCR' limit 1),
            (select id from localization where description = 'test report name' and english = 'SARS-CoV-2 RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="30">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'Respiratory Swab'</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.type_of_sample
            (id, description, domain, lastupdated, local_abbrev, is_active, sort_order, name_localization_id, display_key)
            VALUES (nextval('type_of_sample_seq') , 'Respiratory Swab', 'H', now(), 'Resp Swab', 't', 0 ,
            (select id from localization where english = 'Respiratory Swab' limit 1),
            'Sample.type.Swab');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="31">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="1">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'Respiratory Swab'</sqlCheck>
                </preConditions>

                <sql>
                UPDATE clinlims.type_of_sample SET local_abbrev = 'Resp Swab' WHERE description = 'Respiratory Swab';
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="35">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Respiratory Swab)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Respiratory Swab' limit 1),
            (select id from test where description = 'COVIDPCR(Respiratory Swab)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="40">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Respiratory Swab)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVIDPCR(Respiratory Swab)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="45">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Respiratory Swab)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES (nextval('test_result_seq'),
            (select id from test where description = 'COVIDPCR(Respiratory Swab)'),
            null,null,'N',null,null,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="50">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVIDPCR(Sputum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVIDPCR(Sputum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            '6ad5c653-93be-4803-a849-a2b9e230dd4d',
            (select id from localization where description = 'test name' and english = 'COVID-19 PCR' limit 1),
            (select id from localization where description = 'test report name' and english = 'SARS-CoV-2 RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="55">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'Sputum'</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.type_of_sample( id, description, domain, lastupdated, local_abbrev, is_active, sort_order, name_localization_id, display_key)
            VALUES (nextval('type_of_sample_seq') , 'Sputum', 'H', now(), 'Sputum', 't', 0 ,
            (select id from localization where english = 'Sputum' limit 1),
            'Sample.type.Sputum');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="60">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Sputum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Sputum' limit 1),
            (select id from test where description = 'COVIDPCR(Sputum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="65">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Sputum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVIDPCR(Sputum)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="70">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Sputum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES (nextval('test_result_seq'),
            (select id from test where description = 'COVIDPCR(Sputum)'),
            null,null,'N',null,null,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="75">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVIDPCR(Fluid)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVIDPCR(Fluid)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            '16127641-0026-48f1-ac23-c29da4f73b85',
            (select id from localization where description = 'test name' and english = 'COVID-19 PCR' limit 1),
            (select id from localization where description = 'test report name' and english = 'SARS-CoV-2 RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="80">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'Fluid'</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.type_of_sample( id, description, domain, lastupdated, local_abbrev, is_active, sort_order, name_localization_id, display_key)
            VALUES (nextval('type_of_sample_seq') , 'Fluid', 'H', now(), 'Fluid', 't', 0 ,
            (select id from localization where english = 'Fluid' limit 1),
            'Sample.type.Fluid');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="85">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Fluid)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Fluid' limit 1),
            (select id from test where description = 'COVIDPCR(Fluid)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="90">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Fluid)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVIDPCR(Fluid)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="95">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVIDPCR(Fluid)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES (nextval('test_result_seq'),
            (select id from test where description = 'COVIDPCR(Fluid)'),
            null,null,'N',null,null,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="100">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.dictionary WHERE dict_entry = 'IgM DETECTED' </sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.dictionary(id,is_active,dict_entry,lastupdated,local_abbrev,dictionary_category_id,display_key,sort_order,name_localization_id)
            VALUES
            (nextval('dictionary_seq'),'Y','IgM DETECTED',now(),'IgM DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.IgmDetected',54400,null),
            (nextval('dictionary_seq'),'Y','IgM NOT DETECTED',now(),'IgM NOT DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.IgmNotDetected',54410,null),

            (nextval('dictionary_seq'),'Y','IgG DETECTED',now(),'IgG DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.IggDetected',54400,null),
            (nextval('dictionary_seq'),'Y','IgG NOT DETECTED',now(),'IgG NOT DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.IggNotDetected',54410,null),

            (nextval('dictionary_seq'),'Y','DENGUE VIRUS NOT DETECTED',now(),'DENGUE VIRUW NOT DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.DengueNotDetected',54410,null),
            (nextval('dictionary_seq'),'Y','DENGUE VIRUS TYPE1 DETECTED',now(),'DENGUE VIRUW TYPE1 DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.DengueType1Detected',54420,null),
            (nextval('dictionary_seq'),'Y','DENGUE VIRUS TYPE2 DETECTED',now(),'DENGUE VIRUW TYPE2 DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.DengueType2Detected',54430,null),

            (nextval('dictionary_seq'),'Y','Inconclusive',now(),'Inconclusive',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.Inconclusive',54450,null),

            (nextval('dictionary_seq'),'Y','HIV-1 DNA NOT DETECTED',now(),'HIV-1 DNA NOT DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.Hiv1DnaNotDetected',54410,null),
            (nextval('dictionary_seq'),'Y','HIV-1 DNA DETECTED',now(),'HIV-1 DNA DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.Hiv1DnaDetected',54420,null),
            (nextval('dictionary_seq'),'Y','Invalid',now(),'Invalid',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.Invalid',54430,null);
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="105">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'COVID-19 ANTIBODY IgM'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','COVID-19 ANTIBODY IgM','COVID-19 ANITBODY IgM', now()),
                 (nextval('localization_seq'),'test report name','IgM to SARS-CoV-2 by EIA or LFA','IgM to SARS-CoV-2 by EIA or LFA', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="110">

        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVID-19ANTIBODYIgM(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVID-19ANTIBODYIgM(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            '2d2dcab4-5429-403c-99d9-ebbcff876a3e',
            (select id from localization where description = 'test name' and english = 'COVID-19 ANTIBODY IgM' limit 1),
            (select id from localization where description = 'test report name' and english = 'IgM to SARS-CoV-2 by EIA or LFA' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="115">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'Serum'</sqlCheck>
                </preConditions>

                <sql>
            INSERT into type_of_sample( id, description, domain, lastupdated, local_abbrev, is_active, sort_order, name_localization_id, display_key)
            VALUES (nextval('type_of_sample_seq') , 'Serum', 'H', now(), 'Serum', 't', 0 ,
            (select id from localization where english = 'Serum' limit 1),
            'Sample.type.Serum');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="120">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgM(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'COVID-19ANTIBODYIgM(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="125">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgM(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVID-19ANTIBODYIgM(Serum)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="130">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgM(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgM(Serum)' limit 1),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgM DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgM(Serum)' limit 1),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgM NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgM(Serum)' limit 1),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="135">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVID-19ANTIBODYIgM(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVID-19ANTIBODYIgM(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            '9ffbec64-45c4-48e7-bb36-b46b482d8d7e',
            (select id from localization where description = 'test name' and english = 'COVID-19 ANTIBODY IgM' limit 1),
            (select id from localization where description = 'test report name' and english = 'IgM to SARS-CoV-2 by EIA or LFA' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="140">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'Plasma'</sqlCheck>
                </preConditions>

                <sql>
            INSERT into type_of_sample( id, description, domain, lastupdated, local_abbrev, is_active, sort_order, name_localization_id, display_key )
            VALUES (nextval('type_of_sample_seq') , 'Plasma', 'H', now(), 'Plasma', 't', 0 ,
            (select id from localization where english = 'Plasma' limit 1),
            'Sample.type.Plasma');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="145">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgM(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'COVID-19ANTIBODYIgM(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="150">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgM(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVID-19ANTIBODYIgM(Plasma)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="155">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgM(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgM(Plasma)' limit 1),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgM DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgM(Plasma)' limit 1),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgM NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgM(Plasma)' limit 1),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="160">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'COVID-19 ANTIBODY IgG'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','COVID-19 ANTIBODY IgG','COVID-19 ANITBODY IgG', now()),
                 (nextval('localization_seq'),'test report name','IgG to SARS-CoV-2 by EIA or LFA','IgG to SARS-CoV-2 by EIA or LFA', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="165">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVID-19ANTIBODYIgG(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVID-19ANTIBODYIgG(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            'f4d1f590-62fa-43f2-8d94-466848b9df77',
            (select id from localization where description = 'test name' and english = 'COVID-19 ANTIBODY IgG' limit 1),
            (select id from localization where description = 'test report name' and english = 'IgG to SARS-CoV-2 by EIA or LFA' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="175">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgG(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'COVID-19ANTIBODYIgG(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="180">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgG(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVID-19ANTIBODYIgG(Serum)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="185">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgG(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgG(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgG DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgG(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgG NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgG(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="190">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'COVID-19ANTIBODYIgG(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'COVID-19ANTIBODYIgG(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'COVIDPCR',1,'COVIDPCR','t',
            'e8ce2295-b205-43cc-9e45-254eb248bb2f',
            (select id from localization where description = 'test name' and english = 'COVID-19 ANTIBODY IgG' limit 1),
            (select id from localization where description = 'test report name' and english = 'IgG to SARS-CoV-2 by EIA or LFA' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="205">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgG(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'COVID-19ANTIBODYIgG(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="210">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgG(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'COVID-19ANTIBODYIgG(Plasma)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="215">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'COVID-19ANTIBODYIgG(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgG(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgG DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgG(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'IgG NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'COVID-19ANTIBODYIgG(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="220">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'DENGUE PCR'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','DENGUE PCR','DENGUE PCR', now()),
                 (nextval('localization_seq'),'test report name','Dengue virus RNA by qRT-PCR','Dengue virus RNA by qRT-PCR', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="225">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'DENGUEPCR(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'DENGUEPCR(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'DENGUEPCR',1,'DENGUEPCR','t',
            'd7ee6d4f-32b0-4b06-a470-f2a5c486d1d4',
            (select id from localization where description = 'test name' and english = 'DENGUE PCR' limit 1),
            (select id from localization where description = 'test report name' and english = 'Dengue virus RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="235">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'DENGUEPCR(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="240">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'DENGUEPCR(Serum)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="245">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS TYPE1 DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS TYPE2 DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Inconclusive' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="250">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'DENGUEPCR(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'DENGUEPCR(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'DENGUEPCR',1,'DENGUEPCR','t',
            '04359ce3-5510-4a6c-a5ac-7889f0f61af6',
            (select id from localization where description = 'test name' and english = 'DENGUE PCR' limit 1),
            (select id from localization where description = 'test report name' and english = 'Dengue virus RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="260">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'DENGUEPCR(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="265">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'DENGUEPCR(Plasma)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="270">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS TYPE1 DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS TYPE2 DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Inconclusive' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="275">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'DENGUEPCR(DBS)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'DENGUEPCR(DBS)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'DENGUEPCR',1,'DENGUEPCR','t',
            'cdf7524c-7615-474a-81bc-fe0678ac3521',
            (select id from localization where description = 'test name' and english = 'DENGUE PCR' limit 1),
            (select id from localization where description = 'test report name' and english = 'Dengue virus RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="280">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.type_of_sample WHERE description = 'DBS'</sqlCheck>
                </preConditions>

                <sql>
            INSERT into type_of_sample( id, description, domain, lastupdated, local_abbrev, is_active, sort_order, name_localization_id, display_key )
            VALUES (nextval('type_of_sample_seq') , 'DBS', 'H', now(), 'DBS', 't', 0 ,
            (select id from localization where english = 'DBS' limit 1),
            'Sample.type.DBS');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="285">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(DBS)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'DBS' limit 1),
            (select id from test where description = 'DENGUEPCR(DBS)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="290">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(DBS)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'DENGUEPCR(DBS)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="295">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'DENGUEPCR(DBS)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS TYPE1 DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'DENGUE VIRUS TYPE2 DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Inconclusive' limit 1),
        null,null,null,now(),null,1,'f','t','f'),
        (nextval('test_result_seq'),
        (select id from test where description = 'DENGUEPCR(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="300">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'HIV INFANT VIRAL LOAD'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','HIV INFANT VIRAL LOAD','HIV INFANT VIRAL LOAD', now()),
                 (nextval('localization_seq'),'test report name','HIV-1 DNA by qRT-PCR','HIV-1 DNA by qRT-PCR', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="305">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HIVINFANTVIRALLOAD(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HIVINFANTVIRALLOAD(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HIVINFANTVIRALLOAD',1,'HIVINFANTVIRALLOAD','t',
            '9393e04f-d733-404a-9b5a-f97537534845',
            (select id from localization where description = 'test name' and english = 'HIV INFANT VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HIV-1 DNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="315">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'HIVINFANTVIRALLOAD(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="320">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HIVINFANTVIRALLOAD(Serum)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="325">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'HIV-1 DNA NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'HIV-1 DNA DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Inconclusive' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Serum)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="330">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HIVINFANTVIRALLOAD(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HIVINFANTVIRALLOAD(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HIVINFANTVIRALLOAD',1,'HIVINFANTVIRALLOAD','t',
            'fffd97ee-9615-4758-a156-e47394be3adb',
            (select id from localization where description = 'test name' and english = 'HIV INFANT VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HIV INFANT VIRAL LOAD' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="csteele" id="331">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="1">SELECT count(*) FROM clinlims.test WHERE description = 'HIVINFANTVIRALLOAD(Plasma)' AND reporting_name_localization_id IS NULL</sqlCheck>
                </preConditions>

                <sql>
            UPDATE clinlims.test
            SET reporting_name_localization_id = (select id from localization where description = 'test report name' and english = 'HIV-1 DNA by qRT-PCR' limit 1)
            WHERE description = 'HIVINFANTVIRALLOAD(Plasma)';
                </sql>
        </changeSet>


        <changeSet author="rossumg" id="340">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'HIVINFANTVIRALLOAD(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="345">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HIVINFANTVIRALLOAD(Plasma)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="350">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'HIV-1 DNA NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'HIV-1 DNA DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Inconclusive' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(Plasma)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="355">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HIVINFANTVIRALLOAD(DBS)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HIVINFANTVIRALLOAD(DBS)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HIVINFANTVIRALLOAD',1,'HIVINFANTVIRALLOAD','t',
            '77c5e673-2f25-46d8-8215-116ad31593dc',
            (select id from localization where description = 'test name' and english = 'HIV INFANT VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HIV INFANT VIRAL LOAD' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="csteele" id="336">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="1">SELECT count(*) FROM clinlims.test WHERE description = 'HIVINFANTVIRALLOAD(DBS)' AND reporting_name_localization_id IS NULL</sqlCheck>
                </preConditions>

                <sql>
            UPDATE clinlims.test
            SET reporting_name_localization_id = (select id from localization where description = 'test report name' and english = 'HIV-1 DNA by qRT-PCR' limit 1)
            WHERE description = 'HIVINFANTVIRALLOAD(DBS)';
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="365">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(DBS)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'DBS' limit 1),
            (select id from test where description = 'HIVINFANTVIRALLOAD(DBS)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="370">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(DBS)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HIVINFANTVIRALLOAD(DBS)'),
            4,0,'Infinity',null,'-Infinity','Infinity','-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="375">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HIVINFANTVIRALLOAD(DBS)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'HIV-1 DNA NOT DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'HIV-1 DNA DETECTED' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Inconclusive' limit 1),
        null,null,null,now(),null,1,'f','t','f'),

        (nextval('test_result_seq'),
        (select id from test where description = 'HIVINFANTVIRALLOAD(DBS)'),
        null,null,'D',
        (select id from dictionary where dict_entry = 'Invalid' limit 1),
        null,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="380">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'HIV VIRAL LOAD'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','HIV VIRAL LOAD','HIV VIRAL LOAD', now()),
                 (nextval('localization_seq'),'test report name','HIV-1 RNA by qRT-PCR','HIV-1 RNA by qRT-PCR', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="385">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HIVVIRALLOAD(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HIVVIRALLOAD(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HIVVIRALLOAD',1,'HIVVIRALLOAD','t',
            'f7d1aec4-f378-4034-8aba-ea1b4b277d0b',
            (select id from localization where description = 'test name' and english = 'HIV VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HIV-1 RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="395">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'HIVVIRALLOAD(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="400">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HIVVIRALLOAD(Serum)'),
            4,0,'Infinity',null,'40',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="405">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HIVVIRALLOAD(Serum)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="410">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HIVVIRALLOAD(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HIVVIRALLOAD(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HIVVIRALLOAD',1,'HIVVIRALLOAD','t',
            '45db7e2e-189d-4845-8625-9cff6d8369ae',
            (select id from localization where description = 'test name' and english = 'HIV VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HIV-1 RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="420">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'HIVVIRALLOAD(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="425">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HIVVIRALLOAD(Plasma)'),
            4,0,'Infinity',null,'40',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="430">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HIVVIRALLOAD(Plasma)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>


        <changeSet author="rossumg" id="435">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HIVVIRALLOAD(DBS)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HIVVIRALLOAD(DBS)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HIVVIRALLOAD',1,'HIVVIRALLOAD','t',
            'cdb8ded7-cc1d-4cc8-b1a0-1c2eb38cf24f',
            (select id from localization where description = 'test name' and english = 'HIV VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HIV-1 RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="445">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(DBS)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'DBS' limit 1),
            (select id from test where description = 'HIVVIRALLOAD(DBS)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="450">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(DBS)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HIVVIRALLOAD(DBS)'),
            4,0,'Infinity',null,'40',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="455">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HIVVIRALLOAD(DBS)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HIVVIRALLOAD(DBS)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');

                </sql>
        </changeSet>

        <changeSet author="rossumg" id="490">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'HEPATITIS C VIRAL LOAD'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','HEPATITIS C VIRAL LOAD','HEPATITIS C VIRAL LOAD', now()),
                 (nextval('localization_seq'),'test report name','HCV RNA by qRT-PCR','HCV RNA by qRT-PCR', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="495">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HEPATITISCVIRALLOAD(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HEPATITISCVIRALLOAD(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HEPATITISCVIRALLOAD',1,'HEPATITISCVIRALLOAD','t',
            'f76057f5-65ee-4457-960c-aaba6af81d08',
            (select id from localization where description = 'test name' and english = 'HEPATITIS C VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HCV RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="505">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISCVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'HEPATITISCVIRALLOAD(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="510">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISCVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HEPATITISCVIRALLOAD(Serum)'),
            4,0,'Infinity',null,'10',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="515">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISCVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HEPATITISCVIRALLOAD(Serum)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="520">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HEPATITISCVIRALLOAD(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HEPATITISCVIRALLOAD(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HEPATITISCVIRALLOAD',1,'HEPATITISCVIRALLOAD','t',
            '6480988b-fd76-49bf-acae-9a1385b0f4d6',
            (select id from localization where description = 'test name' and english = 'HEPATITIS C VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HCV RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="530">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISCVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'HEPATITISCVIRALLOAD(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="535">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISCVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HEPATITISCVIRALLOAD(Plasma)'),
            4,0,'Infinity',null,'10',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="540">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISCVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HEPATITISCVIRALLOAD(Plasma)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="545">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.localization WHERE english = 'HEPATITIS B VIRAL LOAD'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.localization(
                id, description, english, french, lastupdated)
                VALUES
                 (nextval('localization_seq'),'test name','HEPATITIS B VIRAL LOAD','HEPATITIS B VIRAL LOAD', now()),
                 (nextval('localization_seq'),'test report name','HBV RNA by qRT-PCR','HBV RNA by qRT-PCR', now());
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="550">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HEPATITISBVIRALLOAD(Serum)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HEPATITISBVIRALLOAD(Serum)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HEPATITISBVIRALLOAD',1,'HEPATITISBVIRALLOAD','t',
            '860e9c3d-5b90-4643-a5c9-437015b79b67',
            (select id from localization where description = 'test name' and english = 'HEPATITIS B VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HBV RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="560">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISBVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Serum' limit 1),
            (select id from test where description = 'HEPATITISBVIRALLOAD(Serum)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="565">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISBVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HEPATITISBVIRALLOAD(Serum)'),
            4,0,'Infinity',null,'10',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="570">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISBVIRALLOAD(Serum)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HEPATITISBVIRALLOAD(Serum)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="575">
        <preConditions onFail="MARK_RAN">
                        <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test WHERE description = 'HEPATITISBVIRALLOAD(Plasma)'</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test(
                id, method_id, uom_id, description, loinc, reporting_description, sticker_req_flag, is_active, active_begin, active_end, is_reportable, time_holding, time_wait, time_ta_average, time_ta_warning, time_ta_max, label_qty, lastupdated, label_id, test_trailer_id, test_section_id, scriptlet_id, test_format_id, local_code, sort_order, name, orderable, guid, name_localization_id, reporting_name_localization_id, default_test_result_id, notify_results)
            VALUES (nextval('test_seq'),null,null,'HEPATITISBVIRALLOAD(Plasma)','94500-6',null,null,'Y',null,null,'N',null,null,null,null,null,null,now(),null,null,136,null,null,'HEPATITISBVIRALLOAD',1,'HEPATITISBVIRALLOAD','t',
            '2c48e3c7-9a2b-41e9-9df6-ec9e1465c07c',
            (select id from localization where description = 'test name' and english = 'HEPATITIS B VIRAL LOAD' limit 1),
            (select id from localization where description = 'test report name' and english = 'HBV RNA by qRT-PCR' limit 1),
            null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="585">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.sampletype_test WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISBVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT into clinlims.sampletype_test(id, sample_type_id, test_id, is_panel)
            VALUES (nextval('sample_type_test_seq'),
            (select id from type_of_sample where description = 'Plasma' limit 1),
            (select id from test where description = 'HEPATITISBVIRALLOAD(Plasma)'),
            'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="590">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.result_limits WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISBVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
        INSERT INTO clinlims.result_limits(id, test_id, test_result_type_id, min_age, max_age, gender, low_normal, high_normal, low_valid, high_valid, lastupdated, normal_dictionary_id, always_validate)
            VALUES (nextval('result_limits_seq'),
            (select id from test where description = 'HEPATITISBVIRALLOAD(Plasma)'),
            4,0,'Infinity',null,'10',10000000,'-Infinity','Infinity',now(),null,'f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="595">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.test_result WHERE test_id =
                (select id from clinlims.test where description = 'HEPATITISBVIRALLOAD(Plasma)')</sqlCheck>
                </preConditions>

                <sql>
            INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
            VALUES
            (nextval('test_result_seq'),
            (select id from test where description = 'HEPATITISBVIRALLOAD(Plasma)'),
            null,null,'N',null,2,null,null,now(),null,1,'f','t','f');
                </sql>
        </changeSet>

        <changeSet author="rossumg" id="624">
        <preConditions onFail="MARK_RAN">
            <sqlCheck  expectedResult="0">SELECT count(*) FROM clinlims.dictionary WHERE dict_entry = 'SARS-COV-2 RNA NOT DETECTED' </sqlCheck>
                </preConditions>

                <sql>
                INSERT INTO clinlims.dictionary(id,is_active,dict_entry,lastupdated,local_abbrev,dictionary_category_id,display_key,sort_order,name_localization_id)
            VALUES
            (nextval('dictionary_seq'),'Y','SARS-COV-2 RNA NOT DETECTED',now(),'SARS-COV-2 RNA NOT DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.sarscov2NotDetected',54510,null),
            (nextval('dictionary_seq'),'Y','SARS-CoV-2 RNA DETECTED',now(),'SARS-CoV-2 RNA DETECTED',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.sarscov2Detected',54520,null),

            (nextval('dictionary_seq'),'Y','RETEST - INCONCLUSIVE',now(),'RETEST - INCONCLUSIVE',
            (select id from dictionary_category where name = 'Haiti Lab'),
            'dictionary.result.sarscov2Inconclusive',54530,null);
                </sql>
        </changeSet>

        <changeSet author="csteele" id="625">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test_result
                WHERE tst_rslt_type = 'N'
                AND test_id = (select id from test where description = 'COVIDPCR(Respiratory Swab)' limit 1)
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                DELETE FROM clinlims.test_result
                WHERE tst_rslt_type = 'N' AND test_id = (select id from test where description = 'COVIDPCR(Respiratory Swab)' limit 1);

                INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
                VALUES
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Respiratory Swab)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'SARS-COV-2 RNA NOT DETECTED' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Respiratory Swab)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'SARS-CoV-2 RNA DETECTED' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Respiratory Swab)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'RETEST - INCONCLUSIVE' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Respiratory Swab)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'Invalid' limit 1),
                    null,null,null,now(),null,1,'f','t','f');

                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'SARS-COV-2 RNA NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVIDPCR(Respiratory Swab)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'SARS-COV-2 RNA NOT DETECTED'
                )
                WHERE rl.test_id in (
                    SELECT id FROM clinlims.test
                    WHERE description = 'COVIDPCR(Respiratory Swab)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="630">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test_result
                WHERE tst_rslt_type = 'N'
                AND test_id = (select id from test where description = 'COVIDPCR(Sputum)' limit 1)
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                DELETE FROM clinlims.test_result
                WHERE tst_rslt_type = 'N' AND test_id = (select id from test where description = 'COVIDPCR(Sputum)' limit 1);

                INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
                VALUES
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Sputum)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'SARS-COV-2 RNA NOT DETECTED' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Sputum)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'SARS-CoV-2 RNA DETECTED' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Sputum)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'RETEST - INCONCLUSIVE' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Sputum)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'Invalid' limit 1),
                    null,null,null,now(),null,1,'f','t','f');

                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'SARS-COV-2 RNA NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVIDPCR(Sputum)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'SARS-COV-2 RNA NOT DETECTED'
                )
                WHERE rl.test_id in (
                    SELECT id FROM clinlims.test
                    WHERE description = 'COVIDPCR(Sputum)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="631">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test_result
                WHERE tst_rslt_type = 'N'
                AND test_id = (select id from test where description = 'COVIDPCR(Fluid)' limit 1)
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                DELETE FROM clinlims.test_result
                WHERE tst_rslt_type = 'N' AND test_id = (select id from test where description = 'COVIDPCR(Fluid)' limit 1);
                INSERT INTO clinlims.test_result(id,test_id,result_group,flags,tst_rslt_type,value,significant_digits,quant_limit,cont_level,lastupdated,scriptlet_id,sort_order,is_quantifiable,is_active,is_normal)
                VALUES
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Fluid)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'SARS-COV-2 RNA NOT DETECTED' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Fluid)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'SARS-CoV-2 RNA DETECTED' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Fluid)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'RETEST - INCONCLUSIVE' limit 1),
                    null,null,null,now(),null,1,'f','t','f'),
                    (nextval('test_result_seq'),
                    (select id from test where description = 'COVIDPCR(Fluid)' limit 1),
                    null,null,'D',
                    (select id from dictionary where dict_entry = 'Invalid' limit 1),
                    null,null,null,now(),null,1,'f','t','f');

                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'SARS-COV-2 RNA NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVIDPCR(Fluid)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'SARS-COV-2 RNA NOT DETECTED'
                )
                WHERE rl.test_id in (
                    SELECT id FROM clinlims.test
                    WHERE description = 'COVIDPCR(Fluid)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="635">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test t
                WHERE description = 'COVID-19ANTIBODYIgM(Serum)'
                AND default_test_result_id is NULL
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'IgM NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVID-19ANTIBODYIgM(Serum)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'IgM NOT DETECTED'
                )
                WHERE rl.test_id in (
                SELECT id FROM clinlims.test
                WHERE description = 'COVID-19ANTIBODYIgM(Serum)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="640">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test t
                WHERE description = 'COVID-19ANTIBODYIgM(Plasma)'
                AND default_test_result_id is NULL
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'IgM NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVID-19ANTIBODYIgM(Plasma)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'IgM NOT DETECTED'
                )
                WHERE rl.test_id in (
                SELECT id FROM clinlims.test
                WHERE description = 'COVID-19ANTIBODYIgM(Plasma)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="645">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test t
                WHERE description = 'COVID-19ANTIBODYIgG(Serum)'
                AND default_test_result_id is NULL
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'IgG NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVID-19ANTIBODYIgG(Serum)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'IgG NOT DETECTED'
                )
                WHERE rl.test_id in (
                SELECT id FROM clinlims.test
                WHERE description = 'COVID-19ANTIBODYIgG(Serum)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="650">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="1">
                SELECT count(*)
                FROM clinlims.test t
                WHERE description = 'COVID-19ANTIBODYIgG(Plasma)'
                AND default_test_result_id is NULL
                </sqlCheck>
            </preConditions>
            <sql splitStatements="true">
                UPDATE clinlims.test t
                SET default_test_result_id = (
                    SELECT tr.id
                    FROM clinlims.test_result tr
                    WHERE CAST (tr.value as NUMERIC) in (
                        SELECT d.id FROM clinlims.dictionary d
                        WHERE d.dict_entry = 'IgG NOT DETECTED'
                    )
                    AND tr.test_id = t.id
                )
                WHERE description = 'COVID-19ANTIBODYIgG(Plasma)';

                UPDATE clinlims.result_limits rl
                SET normal_dictionary_id = (
                    SELECT d.id FROM clinlims.dictionary d
                    WHERE d.dict_entry = 'IgG NOT DETECTED'
                )
                WHERE rl.test_id in (
                SELECT id FROM clinlims.test
                WHERE description = 'COVID-19ANTIBODYIgG(Plasma)'
                );
            </sql>
        </changeSet>

        <changeSet author="csteele" id="655">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'COVID-19ANTIBODYIgG(%)'
                AND loinc = '94547-7'
                </sqlCheck>
            </preConditions>
            <sql >
                UPDATE clinlims.test
                SET loinc = '94547-7'
                WHERE description like 'COVID-19ANTIBODYIgG(%)'
            </sql>
        </changeSet>

        <changeSet author="csteele" id="660">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'COVID-19ANTIBODYIgM(%)'
                AND loinc = '94547-7'
                </sqlCheck>
            </preConditions>
            <sql>
                UPDATE clinlims.test
                SET loinc = '94547-7'
                WHERE description like 'COVID-19ANTIBODYIgM(%)'
            </sql>
        </changeSet>

        <changeSet author="csteele" id="665">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'DENGUEPCR(%)'
                AND loinc = '7855-0'
                </sqlCheck>
            </preConditions>
            <sql>
                UPDATE clinlims.test
                SET loinc = '7855-0'
                WHERE description like 'DENGUEPCR(%)'
            </sql>
        </changeSet>

        <changeSet author="csteele" id="670">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'HIVVIRALLOAD(%)'
                AND loinc = '10351-5'
                </sqlCheck>
            </preConditions>
            <sql>
                UPDATE clinlims.test
                SET loinc = '10351-5'
                WHERE description like 'HIVVIRALLOAD(%)'
            </sql>
        </changeSet>

        <changeSet author="csteele" id="675">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'HEPATITISCVIRALLOAD(%)'
                AND loinc = '11011-4'
                </sqlCheck>
            </preConditions>
            <sql>
                UPDATE clinlims.test
                SET loinc = '11011-4'
                WHERE description like 'HEPATITISCVIRALLOAD(%)'
            </sql>
        </changeSet>

        <changeSet author="csteele" id="680">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'HEPATITISBVIRALLOAD(%)'
                AND loinc = '29615-2'
                </sqlCheck>
            </preConditions>
            <sql>
                UPDATE clinlims.test
                SET loinc = '29615-2'
                WHERE description like 'HEPATITISBVIRALLOAD(%)'
            </sql>
        </changeSet>

        <changeSet author="csteele" id="685">
            <preConditions onFail="MARK_RAN">
                <sqlCheck  expectedResult="0">
                SELECT count(*)
                FROM clinlims.test
                WHERE description like 'HIVINFANTVIRALLOAD(%)'
                AND loinc = ''
                </sqlCheck>
            </preConditions>
            <sql>
                UPDATE clinlims.test
                SET loinc = ''
                WHERE description like 'HIVINFANTVIRALLOAD(%)'
            </sql>
        </changeSet>

</databaseChangeLog>
